/**
 * generated by Xtext 2.26.0
 */
package org.xtext.generator;

import org.eclipse.emf.common.util.EList;
import org.eclipse.emf.ecore.EObject;
import org.eclipse.emf.ecore.resource.Resource;
import org.eclipse.xtend2.lib.StringConcatenation;
import org.eclipse.xtext.generator.AbstractGenerator;
import org.eclipse.xtext.generator.IFileSystemAccess2;
import org.eclipse.xtext.generator.IGeneratorContext;
import org.eclipse.xtext.xbase.lib.Conversions;
import org.eclipse.xtext.xbase.lib.IterableExtensions;
import org.xtext.cPtester.And;
import org.xtext.cPtester.AndWhen;
import org.xtext.cPtester.Scenario;
import org.xtext.operations.Angle;
import org.xtext.operations.Angle_res;
import org.xtext.operations.B;
import org.xtext.operations.Color;
import org.xtext.operations.Command;
import org.xtext.operations.Conditions;
import org.xtext.operations.G;
import org.xtext.operations.H_max;
import org.xtext.operations.H_min;
import org.xtext.operations.Initial;
import org.xtext.operations.R;
import org.xtext.operations.S_max;
import org.xtext.operations.S_min;
import org.xtext.operations.Servo;
import org.xtext.operations.Solution;
import org.xtext.operations.Time;
import org.xtext.operations.V_max;
import org.xtext.operations.V_min;
import org.xtext.operations.buzzerOff;
import org.xtext.operations.buzzerOn;
import org.xtext.operations.calibration;
import org.xtext.operations.cameraColor;
import org.xtext.operations.isAt;
import org.xtext.operations.isAtSingle;
import org.xtext.operations.lightRGB;
import org.xtext.operations.readAllServos;
import org.xtext.operations.readServo;
import org.xtext.operations.rotateAllServos;
import org.xtext.operations.rotateServo;

/**
 * Generates code from your model files on save.
 * 
 * See https://www.eclipse.org/Xtext/documentation/303_runtime_concepts.html#code-generation
 */
@SuppressWarnings("all")
public class CPtesterGenerator extends AbstractGenerator {
  @Override
  public void doGenerate(final Resource resource, final IFileSystemAccess2 fsa, final IGeneratorContext context) {
    String _className = this.className(resource);
    String _plus = (_className + ".txt");
    EObject _head = IterableExtensions.<EObject>head(resource.getContents());
    fsa.generateFile(_plus, 
      this.toCode(((Scenario) _head)));
  }
  
  public CharSequence toCode(final Scenario scenario) {
    StringConcatenation _builder = new StringConcatenation();
    int counterTime = 0;
    _builder.newLineIfNotEmpty();
    int counterLength = 0;
    _builder.newLineIfNotEmpty();
    int counterGiven = 0;
    _builder.newLineIfNotEmpty();
    int maxTime = 0;
    _builder.newLineIfNotEmpty();
    int errorLenght = 0;
    _builder.newLineIfNotEmpty();
    String condName = "";
    _builder.newLineIfNotEmpty();
    int current = 0;
    _builder.newLineIfNotEmpty();
    _builder.append("Class: Machine");
    _builder.newLine();
    _builder.append("\t");
    _builder.append("StateMachine: ");
    String _surname = scenario.getSurname();
    _builder.append(_surname, "\t");
    _builder.newLineIfNotEmpty();
    _builder.append("\t\t");
    _builder.append("PseudoState: ");
    {
      EList<Initial> _initial = scenario.getGiven().getInitial();
      for(final Initial giv : _initial) {
        String _name = giv.eClass().getName();
        _builder.append(_name, "\t\t");
      }
    }
    _builder.newLineIfNotEmpty();
    _builder.append("\t\t");
    _builder.append("PseudoState: Final");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("PseudoState: Error");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("Transition: (");
    {
      EList<Initial> _initial_1 = scenario.getGiven().getInitial();
      for(final Initial giv_1 : _initial_1) {
        String _name_1 = giv_1.eClass().getName();
        _builder.append(_name_1, "\t\t");
      }
    }
    _builder.append("->");
    String _name_2 = scenario.getGiven().eClass().getName();
    _builder.append(_name_2, "\t\t");
    _builder.append(counterGiven, "\t\t");
    _builder.append(")");
    _builder.newLineIfNotEmpty();
    _builder.append("\t\t\t\t");
    _builder.append("Guard: []");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("State: ");
    String _name_3 = scenario.getGiven().eClass().getName();
    _builder.append(_name_3, "\t\t");
    _builder.append(counterGiven, "\t\t");
    _builder.newLineIfNotEmpty();
    _builder.append("\t\t\t");
    _builder.append("Activity: Arm.");
    {
      EList<Initial> _initial_2 = scenario.getGiven().getInitial();
      for(final Initial giv_2 : _initial_2) {
        String _name_4 = giv_2.getName();
        _builder.append(_name_4, "\t\t\t");
        _builder.append("(");
        {
          EList<Time> _time = giv_2.getTime();
          for(final Time tm : _time) {
            Time value = ((Time) tm);
            int _time_1 = value.getTime();
            _builder.append(_time_1, "\t\t\t");
            String _xblockexpression = null;
            {
              int _counterTime = counterTime;
              int _time_2 = value.getTime();
              counterTime = (_counterTime + _time_2);
              _xblockexpression = "";
            }
            _builder.append(_xblockexpression, "\t\t\t");
          }
        }
        _builder.append(");");
      }
    }
    _builder.newLineIfNotEmpty();
    _builder.append("\t\t");
    String _xblockexpression_1 = null;
    {
      current = counterGiven;
      _xblockexpression_1 = "";
    }
    _builder.append(_xblockexpression_1, "\t\t");
    String _xblockexpression_2 = null;
    {
      counterGiven++;
      _xblockexpression_2 = "";
    }
    _builder.append(_xblockexpression_2, "\t\t");
    _builder.newLineIfNotEmpty();
    _builder.append("\t\t");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("Transition: (");
    String _name_5 = scenario.getGiven().eClass().getName();
    _builder.append(_name_5, "\t\t");
    _builder.append(current, "\t\t");
    _builder.append("->");
    String _name_6 = scenario.getGiven().eClass().getName();
    _builder.append(_name_6, "\t\t");
    _builder.append(counterGiven, "\t\t");
    _builder.append(")");
    _builder.newLineIfNotEmpty();
    _builder.append("\t\t\t");
    _builder.append("Guard: []\t");
    _builder.newLine();
    _builder.append("\t\t\t");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("Transition: (");
    String _name_7 = scenario.getGiven().eClass().getName();
    _builder.append(_name_7, "\t\t");
    _builder.append(current, "\t\t");
    _builder.append("->");
    String _name_8 = scenario.getGiven().eClass().getName();
    _builder.append(_name_8, "\t\t");
    _builder.append("Warning)");
    _builder.newLineIfNotEmpty();
    _builder.append("\t\t\t");
    _builder.append("Guard: Arm.wait");
    {
      EList<Initial> _initial_3 = scenario.getGiven().getInitial();
      for(final Initial giv_3 : _initial_3) {
        _builder.append("(");
        {
          EList<Time> _time_2 = giv_3.getTime();
          for(final Time tm_1 : _time_2) {
            Time value_1 = ((Time) tm_1);
            int _time_3 = value_1.getTime();
            _builder.append(_time_3, "\t\t\t");
            _builder.append(");");
          }
        }
      }
    }
    _builder.append("\t");
    _builder.newLineIfNotEmpty();
    _builder.append("\t\t");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("Transition: (");
    String _name_9 = scenario.getGiven().eClass().getName();
    _builder.append(_name_9, "\t\t");
    _builder.append("Warning->");
    String _name_10 = scenario.getGiven().eClass().getName();
    _builder.append(_name_10, "\t\t");
    _builder.append(current, "\t\t");
    _builder.append(")");
    _builder.newLineIfNotEmpty();
    _builder.append("\t\t\t");
    _builder.append("Guard: []");
    _builder.newLine();
    _builder.append("\t\t\t");
    _builder.newLine();
    {
      EList<AndWhen> _andGiven = scenario.getAndGiven();
      for(final AndWhen andG : _andGiven) {
        {
          EList<Command> _command = andG.getCommand();
          for(final Command cmd : _command) {
            _builder.append("\t\t");
            {
              boolean _equals = cmd.eClass().getName().equals("rotateServo");
              if (_equals) {
                rotateServo rot = ((rotateServo) cmd);
                {
                  EList<Servo> _servo = rot.getServo();
                  for(final Servo ser : _servo) {
                    Servo value_2 = ((Servo) ser);
                    _builder.append("\t\t\t\t\t\t");
                    _builder.newLineIfNotEmpty();
                    {
                      int _servo_1 = value_2.getServo();
                      boolean _equals_1 = (_servo_1 == 1);
                      if (_equals_1) {
                        _builder.append("\t\t");
                        _builder.append("State: ");
                        String _name_11 = scenario.getGiven().eClass().getName();
                        _builder.append(_name_11, "\t\t");
                        _builder.append(counterGiven, "\t\t");
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t");
                        _builder.append("\t");
                        _builder.append("Activity: Arm.BaseServo.ServosOperations.");
                        String _name_12 = cmd.eClass().getName();
                        _builder.append(_name_12, "\t\t\t");
                        _builder.append("(");
                        int _servo_2 = value_2.getServo();
                        _builder.append(_servo_2, "\t\t\t");
                        _builder.append(", ");
                        {
                          EList<Angle> _angle = rot.getAngle();
                          for(final Angle ang : _angle) {
                            Angle valor = ((Angle) ang);
                            int _angle_1 = valor.getAngle();
                            _builder.append(_angle_1, "\t\t\t");
                          }
                        }
                        _builder.append(", ");
                        {
                          EList<Time> _time_4 = rot.getTime();
                          for(final Time tmp : _time_4) {
                            Time valor_1 = ((Time) tmp);
                            int _time_5 = valor_1.getTime();
                            _builder.append(_time_5, "\t\t\t");
                            String _xblockexpression_3 = null;
                            {
                              int _counterTime = counterTime;
                              int _time_6 = valor_1.getTime();
                              counterTime = (_counterTime + _time_6);
                              _xblockexpression_3 = "";
                            }
                            _builder.append(_xblockexpression_3, "\t\t\t");
                          }
                        }
                        _builder.append(");");
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t");
                        _builder.append("\t");
                        _builder.newLine();
                        _builder.append("\t\t");
                        _builder.append("Transition: (");
                        String _name_13 = scenario.getGiven().eClass().getName();
                        _builder.append(_name_13, "\t\t");
                        _builder.append(counterGiven, "\t\t");
                        _builder.append("->");
                        String _name_14 = scenario.getGiven().eClass().getName();
                        _builder.append(_name_14, "\t\t");
                        _builder.append("Warning)");
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t");
                        _builder.append("\t");
                        _builder.append("Guard: Arm.wait(");
                        {
                          EList<Time> _time_6 = rot.getTime();
                          for(final Time tmp_1 : _time_6) {
                            Time amount = ((Time) tmp_1);
                            int _time_7 = amount.getTime();
                            _builder.append(_time_7, "\t\t\t");
                            _builder.append(");");
                          }
                        }
                        _builder.append("\t\t\t\t\t");
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t");
                        _builder.newLine();
                        _builder.append("\t\t");
                        _builder.append("Transition: (");
                        String _name_15 = scenario.getGiven().eClass().getName();
                        _builder.append(_name_15, "\t\t");
                        _builder.append("Warning->");
                        String _name_16 = scenario.getGiven().eClass().getName();
                        _builder.append(_name_16, "\t\t");
                        _builder.append(counterGiven, "\t\t");
                        _builder.append(")");
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t");
                        _builder.append("\t");
                        _builder.append("Guard: []");
                        _builder.newLine();
                        _builder.append("\t\t");
                        _builder.append("\t");
                        _builder.newLine();
                      } else {
                        int _servo_3 = value_2.getServo();
                        boolean _equals_2 = (_servo_3 == 2);
                        if (_equals_2) {
                          _builder.append("\t\t");
                          _builder.append("State: ");
                          String _name_17 = scenario.getGiven().eClass().getName();
                          _builder.append(_name_17, "\t\t");
                          _builder.append(counterGiven, "\t\t");
                          _builder.newLineIfNotEmpty();
                          _builder.append("\t\t");
                          _builder.append("\t");
                          _builder.append("Activity: Arm.LowerServo.ServosOperations.");
                          String _name_18 = cmd.eClass().getName();
                          _builder.append(_name_18, "\t\t\t");
                          _builder.append("(");
                          int _servo_4 = value_2.getServo();
                          _builder.append(_servo_4, "\t\t\t");
                          _builder.append(", ");
                          {
                            EList<Angle> _angle_2 = rot.getAngle();
                            for(final Angle ang_1 : _angle_2) {
                              Angle valor_2 = ((Angle) ang_1);
                              int _angle_3 = valor_2.getAngle();
                              _builder.append(_angle_3, "\t\t\t");
                            }
                          }
                          _builder.append(", ");
                          {
                            EList<Time> _time_8 = rot.getTime();
                            for(final Time tmp_2 : _time_8) {
                              Time valor_3 = ((Time) tmp_2);
                              int _time_9 = valor_3.getTime();
                              _builder.append(_time_9, "\t\t\t");
                              String _xblockexpression_4 = null;
                              {
                                int _counterTime = counterTime;
                                int _time_10 = valor_3.getTime();
                                counterTime = (_counterTime + _time_10);
                                _xblockexpression_4 = "";
                              }
                              _builder.append(_xblockexpression_4, "\t\t\t");
                            }
                          }
                          _builder.append(");");
                          _builder.newLineIfNotEmpty();
                          _builder.append("\t\t");
                          _builder.newLine();
                          _builder.append("\t\t");
                          _builder.append("Transition: (");
                          String _name_19 = scenario.getGiven().eClass().getName();
                          _builder.append(_name_19, "\t\t");
                          _builder.append(counterGiven, "\t\t");
                          _builder.append("->");
                          String _name_20 = scenario.getGiven().eClass().getName();
                          _builder.append(_name_20, "\t\t");
                          _builder.append("Warning)");
                          _builder.newLineIfNotEmpty();
                          _builder.append("\t\t");
                          _builder.append("\t");
                          _builder.append("Guard: Arm.wait(");
                          {
                            EList<Time> _time_10 = rot.getTime();
                            for(final Time tmp_3 : _time_10) {
                              Time amount_1 = ((Time) tmp_3);
                              int _time_11 = amount_1.getTime();
                              _builder.append(_time_11, "\t\t\t");
                              _builder.append(");");
                            }
                          }
                          _builder.append("\t\t\t\t\t");
                          _builder.newLineIfNotEmpty();
                          _builder.append("\t\t");
                          _builder.append("\t\t\t\t");
                          _builder.newLine();
                          _builder.append("\t\t");
                          _builder.append("Transition: (");
                          String _name_21 = scenario.getGiven().eClass().getName();
                          _builder.append(_name_21, "\t\t");
                          _builder.append("Warning->");
                          String _name_22 = scenario.getGiven().eClass().getName();
                          _builder.append(_name_22, "\t\t");
                          _builder.append(counterGiven, "\t\t");
                          _builder.append(")");
                          _builder.newLineIfNotEmpty();
                          _builder.append("\t\t");
                          _builder.append("\t");
                          _builder.append("Guard: []");
                          _builder.newLine();
                          _builder.append("\t\t");
                          _builder.append("\t");
                          _builder.newLine();
                        } else {
                          int _servo_5 = value_2.getServo();
                          boolean _equals_3 = (_servo_5 == 3);
                          if (_equals_3) {
                            _builder.append("\t\t");
                            _builder.append("State: ");
                            String _name_23 = scenario.getGiven().eClass().getName();
                            _builder.append(_name_23, "\t\t");
                            _builder.append(counterGiven, "\t\t");
                            _builder.newLineIfNotEmpty();
                            _builder.append("\t\t");
                            _builder.append("\t");
                            _builder.append("Activity: Arm.MiddleServo.ServosOperations.");
                            String _name_24 = cmd.eClass().getName();
                            _builder.append(_name_24, "\t\t\t");
                            _builder.append("(");
                            int _servo_6 = value_2.getServo();
                            _builder.append(_servo_6, "\t\t\t");
                            _builder.append(", ");
                            {
                              EList<Angle> _angle_4 = rot.getAngle();
                              for(final Angle ang_2 : _angle_4) {
                                Angle valor_4 = ((Angle) ang_2);
                                int _angle_5 = valor_4.getAngle();
                                _builder.append(_angle_5, "\t\t\t");
                              }
                            }
                            _builder.append(", ");
                            {
                              EList<Time> _time_12 = rot.getTime();
                              for(final Time tmp_4 : _time_12) {
                                Time valor_5 = ((Time) tmp_4);
                                int _time_13 = valor_5.getTime();
                                _builder.append(_time_13, "\t\t\t");
                                String _xblockexpression_5 = null;
                                {
                                  int _counterTime = counterTime;
                                  int _time_14 = valor_5.getTime();
                                  counterTime = (_counterTime + _time_14);
                                  _xblockexpression_5 = "";
                                }
                                _builder.append(_xblockexpression_5, "\t\t\t");
                              }
                            }
                            _builder.append(");");
                            _builder.newLineIfNotEmpty();
                            _builder.append("\t\t");
                            _builder.newLine();
                            _builder.append("\t\t");
                            _builder.append("Transition: (");
                            String _name_25 = scenario.getGiven().eClass().getName();
                            _builder.append(_name_25, "\t\t");
                            _builder.append(counterGiven, "\t\t");
                            _builder.append("->");
                            String _name_26 = scenario.getGiven().eClass().getName();
                            _builder.append(_name_26, "\t\t");
                            _builder.append("Warning)");
                            _builder.newLineIfNotEmpty();
                            _builder.append("\t\t");
                            _builder.append("\t");
                            _builder.append("Guard: Arm.wait(");
                            {
                              EList<Time> _time_14 = rot.getTime();
                              for(final Time tmp_5 : _time_14) {
                                Time amount_2 = ((Time) tmp_5);
                                int _time_15 = amount_2.getTime();
                                _builder.append(_time_15, "\t\t\t");
                                _builder.append(");");
                              }
                            }
                            _builder.append("\t\t\t\t\t");
                            _builder.newLineIfNotEmpty();
                            _builder.append("\t\t");
                            _builder.append("\t\t\t\t");
                            _builder.newLine();
                            _builder.append("\t\t");
                            _builder.append("Transition: (");
                            String _name_27 = scenario.getGiven().eClass().getName();
                            _builder.append(_name_27, "\t\t");
                            _builder.append("Warning->");
                            String _name_28 = scenario.getGiven().eClass().getName();
                            _builder.append(_name_28, "\t\t");
                            _builder.append(counterGiven, "\t\t");
                            _builder.append(")");
                            _builder.newLineIfNotEmpty();
                            _builder.append("\t\t");
                            _builder.append("\t");
                            _builder.append("Guard: []");
                            _builder.newLine();
                            _builder.append("\t\t");
                            _builder.append("\t");
                            _builder.newLine();
                          } else {
                            int _servo_7 = value_2.getServo();
                            boolean _equals_4 = (_servo_7 == 4);
                            if (_equals_4) {
                              _builder.append("\t\t");
                              _builder.append("State: ");
                              String _name_29 = scenario.getGiven().eClass().getName();
                              _builder.append(_name_29, "\t\t");
                              _builder.append(counterGiven, "\t\t");
                              _builder.newLineIfNotEmpty();
                              _builder.append("\t\t");
                              _builder.append("\t");
                              _builder.append("Activity: Arm.UpperServo.ServosOperations.");
                              String _name_30 = cmd.eClass().getName();
                              _builder.append(_name_30, "\t\t\t");
                              _builder.append("(");
                              int _servo_8 = value_2.getServo();
                              _builder.append(_servo_8, "\t\t\t");
                              _builder.append(", ");
                              {
                                EList<Angle> _angle_6 = rot.getAngle();
                                for(final Angle ang_3 : _angle_6) {
                                  Angle valor_6 = ((Angle) ang_3);
                                  int _angle_7 = valor_6.getAngle();
                                  _builder.append(_angle_7, "\t\t\t");
                                }
                              }
                              _builder.append(", ");
                              {
                                EList<Time> _time_16 = rot.getTime();
                                for(final Time tmp_6 : _time_16) {
                                  Time valor_7 = ((Time) tmp_6);
                                  int _time_17 = valor_7.getTime();
                                  _builder.append(_time_17, "\t\t\t");
                                  String _xblockexpression_6 = null;
                                  {
                                    int _counterTime = counterTime;
                                    int _time_18 = valor_7.getTime();
                                    counterTime = (_counterTime + _time_18);
                                    _xblockexpression_6 = "";
                                  }
                                  _builder.append(_xblockexpression_6, "\t\t\t");
                                }
                              }
                              _builder.append(");");
                              _builder.newLineIfNotEmpty();
                              _builder.append("\t\t");
                              _builder.newLine();
                              _builder.append("\t\t");
                              _builder.append("Transition: (");
                              String _name_31 = scenario.getGiven().eClass().getName();
                              _builder.append(_name_31, "\t\t");
                              _builder.append(counterGiven, "\t\t");
                              _builder.append("->");
                              String _name_32 = scenario.getGiven().eClass().getName();
                              _builder.append(_name_32, "\t\t");
                              _builder.append("Warning)");
                              _builder.newLineIfNotEmpty();
                              _builder.append("\t\t");
                              _builder.append("\t");
                              _builder.append("Guard: Arm.wait(");
                              {
                                EList<Time> _time_18 = rot.getTime();
                                for(final Time tmp_7 : _time_18) {
                                  Time amount_3 = ((Time) tmp_7);
                                  int _time_19 = amount_3.getTime();
                                  _builder.append(_time_19, "\t\t\t");
                                  _builder.append(");");
                                }
                              }
                              _builder.append("\t\t\t\t\t");
                              _builder.newLineIfNotEmpty();
                              _builder.append("\t\t");
                              _builder.append("\t\t\t\t");
                              _builder.newLine();
                              _builder.append("\t\t");
                              _builder.append("Transition: (");
                              String _name_33 = scenario.getGiven().eClass().getName();
                              _builder.append(_name_33, "\t\t");
                              _builder.append("Warning->");
                              String _name_34 = scenario.getGiven().eClass().getName();
                              _builder.append(_name_34, "\t\t");
                              _builder.append(counterGiven, "\t\t");
                              _builder.append(")");
                              _builder.newLineIfNotEmpty();
                              _builder.append("\t\t");
                              _builder.append("\t");
                              _builder.append("Guard: []");
                              _builder.newLine();
                              _builder.append("\t\t");
                              _builder.append("\t");
                              _builder.newLine();
                            } else {
                              int _servo_9 = value_2.getServo();
                              boolean _equals_5 = (_servo_9 == 5);
                              if (_equals_5) {
                                _builder.append("\t\t");
                                _builder.append("State: ");
                                String _name_35 = scenario.getGiven().eClass().getName();
                                _builder.append(_name_35, "\t\t");
                                _builder.append(counterGiven, "\t\t");
                                _builder.newLineIfNotEmpty();
                                _builder.append("\t\t");
                                _builder.append("\t");
                                _builder.append("Activity: Arm.WristServo.ServosOperations.");
                                String _name_36 = cmd.eClass().getName();
                                _builder.append(_name_36, "\t\t\t");
                                _builder.append("(");
                                int _servo_10 = value_2.getServo();
                                _builder.append(_servo_10, "\t\t\t");
                                _builder.append(", ");
                                {
                                  EList<Angle> _angle_8 = rot.getAngle();
                                  for(final Angle ang_4 : _angle_8) {
                                    Angle valor_8 = ((Angle) ang_4);
                                    int _angle_9 = valor_8.getAngle();
                                    _builder.append(_angle_9, "\t\t\t");
                                  }
                                }
                                _builder.append(", ");
                                {
                                  EList<Time> _time_20 = rot.getTime();
                                  for(final Time tmp_8 : _time_20) {
                                    Time valor_9 = ((Time) tmp_8);
                                    int _time_21 = valor_9.getTime();
                                    _builder.append(_time_21, "\t\t\t");
                                    String _xblockexpression_7 = null;
                                    {
                                      int _counterTime = counterTime;
                                      int _time_22 = valor_9.getTime();
                                      counterTime = (_counterTime + _time_22);
                                      _xblockexpression_7 = "";
                                    }
                                    _builder.append(_xblockexpression_7, "\t\t\t");
                                  }
                                }
                                _builder.append(");");
                                _builder.newLineIfNotEmpty();
                                _builder.append("\t\t");
                                _builder.newLine();
                                _builder.append("\t\t");
                                _builder.append("Transition: (");
                                String _name_37 = scenario.getGiven().eClass().getName();
                                _builder.append(_name_37, "\t\t");
                                _builder.append(counterGiven, "\t\t");
                                _builder.append("->");
                                String _name_38 = scenario.getGiven().eClass().getName();
                                _builder.append(_name_38, "\t\t");
                                _builder.append("Warning)");
                                _builder.newLineIfNotEmpty();
                                _builder.append("\t\t");
                                _builder.append("\t");
                                _builder.append("Guard: Arm.wait(");
                                {
                                  EList<Time> _time_22 = rot.getTime();
                                  for(final Time tmp_9 : _time_22) {
                                    Time amount_4 = ((Time) tmp_9);
                                    int _time_23 = amount_4.getTime();
                                    _builder.append(_time_23, "\t\t\t");
                                    _builder.append(");");
                                  }
                                }
                                _builder.append("\t\t\t\t\t");
                                _builder.newLineIfNotEmpty();
                                _builder.append("\t\t");
                                _builder.append("\t\t\t\t");
                                _builder.newLine();
                                _builder.append("\t\t");
                                _builder.append("Transition: (");
                                String _name_39 = scenario.getGiven().eClass().getName();
                                _builder.append(_name_39, "\t\t");
                                _builder.append("Warning->");
                                String _name_40 = scenario.getGiven().eClass().getName();
                                _builder.append(_name_40, "\t\t");
                                _builder.append(counterGiven, "\t\t");
                                _builder.append(")");
                                _builder.newLineIfNotEmpty();
                                _builder.append("\t\t");
                                _builder.append("\t");
                                _builder.append("Guard: []");
                                _builder.newLine();
                                _builder.append("\t\t");
                                _builder.append("\t");
                                _builder.newLine();
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
                _builder.append("\t\t");
              } else {
                boolean _equals_6 = cmd.eClass().getName().equals("rotateAllServos");
                if (_equals_6) {
                  rotateAllServos rot_1 = ((rotateAllServos) cmd);
                  _builder.newLineIfNotEmpty();
                  _builder.append("\t\t");
                  _builder.append("State: ");
                  String _name_41 = scenario.getGiven().eClass().getName();
                  _builder.append(_name_41, "\t\t");
                  _builder.append(counterGiven, "\t\t");
                  _builder.newLineIfNotEmpty();
                  _builder.append("\t\t");
                  _builder.append("\t");
                  _builder.append("Activity: Arm.");
                  String _name_42 = cmd.eClass().getName();
                  _builder.append(_name_42, "\t\t\t");
                  _builder.append("(");
                  {
                    EList<Angle> _angle1 = rot_1.getAngle1();
                    for(final Angle ang1 : _angle1) {
                      Angle value_3 = ((Angle) ang1);
                      int _angle_10 = value_3.getAngle();
                      _builder.append(_angle_10, "\t\t\t");
                    }
                  }
                  _builder.append(", ");
                  {
                    EList<Angle> _angle2 = rot_1.getAngle2();
                    for(final Angle ang2 : _angle2) {
                      Angle value_4 = ((Angle) ang2);
                      int _angle_11 = value_4.getAngle();
                      _builder.append(_angle_11, "\t\t\t");
                    }
                  }
                  _builder.append(", ");
                  {
                    EList<Angle> _angle3 = rot_1.getAngle3();
                    for(final Angle ang3 : _angle3) {
                      Angle value_5 = ((Angle) ang3);
                      int _angle_12 = value_5.getAngle();
                      _builder.append(_angle_12, "\t\t\t");
                    }
                  }
                  _builder.append(", ");
                  {
                    EList<Angle> _angle4 = rot_1.getAngle4();
                    for(final Angle ang4 : _angle4) {
                      Angle value_6 = ((Angle) ang4);
                      int _angle_13 = value_6.getAngle();
                      _builder.append(_angle_13, "\t\t\t");
                    }
                  }
                  _builder.append(", ");
                  {
                    EList<Angle> _angle5 = rot_1.getAngle5();
                    for(final Angle ang5 : _angle5) {
                      Angle value_7 = ((Angle) ang5);
                      int _angle_14 = value_7.getAngle();
                      _builder.append(_angle_14, "\t\t\t");
                    }
                  }
                  _builder.append(", ");
                  {
                    EList<Angle> _angle6 = rot_1.getAngle6();
                    for(final Angle ang6 : _angle6) {
                      Angle value_8 = ((Angle) ang6);
                      int _angle_15 = value_8.getAngle();
                      _builder.append(_angle_15, "\t\t\t");
                    }
                  }
                  _builder.append(", ");
                  {
                    EList<Time> _time_24 = rot_1.getTime();
                    for(final Time tmp_10 : _time_24) {
                      Time value_9 = ((Time) tmp_10);
                      int _time_25 = value_9.getTime();
                      _builder.append(_time_25, "\t\t\t");
                      String _xblockexpression_8 = null;
                      {
                        int _counterTime = counterTime;
                        int _time_26 = value_9.getTime();
                        counterTime = (_counterTime + _time_26);
                        _xblockexpression_8 = "";
                      }
                      _builder.append(_xblockexpression_8, "\t\t\t");
                    }
                  }
                  _builder.append(");");
                  _builder.newLineIfNotEmpty();
                  _builder.append("\t\t");
                  _builder.newLine();
                  _builder.append("\t\t");
                  _builder.append("Transition: (");
                  String _name_43 = scenario.getGiven().eClass().getName();
                  _builder.append(_name_43, "\t\t");
                  _builder.append(counterGiven, "\t\t");
                  _builder.append("->");
                  String _name_44 = scenario.getGiven().eClass().getName();
                  _builder.append(_name_44, "\t\t");
                  _builder.append("Warning)");
                  _builder.newLineIfNotEmpty();
                  _builder.append("\t\t");
                  _builder.append("\t");
                  _builder.append("Guard: Arm.wait(");
                  {
                    EList<Time> _time_26 = rot_1.getTime();
                    for(final Time tmp_11 : _time_26) {
                      Time value_10 = ((Time) tmp_11);
                      int _time_27 = value_10.getTime();
                      _builder.append(_time_27, "\t\t\t");
                      _builder.append(");");
                    }
                  }
                  _builder.append("\t");
                  _builder.newLineIfNotEmpty();
                  _builder.append("\t\t");
                  _builder.append("\t\t\t\t\t\t\t\t\t");
                  _builder.newLine();
                  _builder.append("\t\t");
                  _builder.append("Transition: (");
                  String _name_45 = scenario.getGiven().eClass().getName();
                  _builder.append(_name_45, "\t\t");
                  _builder.append("Warning->");
                  String _name_46 = scenario.getGiven().eClass().getName();
                  _builder.append(_name_46, "\t\t");
                  _builder.append(counterGiven, "\t\t");
                  _builder.append(")");
                  _builder.newLineIfNotEmpty();
                  _builder.append("\t\t");
                  _builder.append("\t");
                  _builder.append("Guard: []");
                  _builder.newLine();
                  _builder.append("\t\t");
                  _builder.append("\t");
                  _builder.newLine();
                  _builder.append("\t\t");
                } else {
                  boolean _equals_7 = cmd.eClass().getName().equals("readAllServos");
                  if (_equals_7) {
                    readAllServos ras = ((readAllServos) cmd);
                    _builder.newLineIfNotEmpty();
                    _builder.append("\t\t");
                    _builder.append("State: ");
                    String _name_47 = scenario.getGiven().eClass().getName();
                    _builder.append(_name_47, "\t\t");
                    _builder.append(counterGiven, "\t\t");
                    _builder.newLineIfNotEmpty();
                    _builder.append("\t\t");
                    _builder.append("\t");
                    _builder.append("Activity: Arm.");
                    String _name_48 = cmd.eClass().getName();
                    _builder.append(_name_48, "\t\t\t");
                    _builder.append("()");
                    _builder.newLineIfNotEmpty();
                    _builder.append("\t\t");
                    _builder.newLine();
                    _builder.append("\t\t");
                    _builder.append("Transition: (");
                    String _name_49 = scenario.getGiven().eClass().getName();
                    _builder.append(_name_49, "\t\t");
                    _builder.append(counterGiven, "\t\t");
                    _builder.append("->");
                    String _name_50 = scenario.getGiven().eClass().getName();
                    _builder.append(_name_50, "\t\t");
                    _builder.append("Warning)");
                    _builder.newLineIfNotEmpty();
                    _builder.append("\t\t");
                    _builder.append("\t");
                    _builder.append("Guard: Arm.wait(1000);\t");
                    _builder.newLine();
                    _builder.append("\t\t");
                    _builder.append("\t\t\t\t\t\t\t\t\t");
                    _builder.newLine();
                    _builder.append("\t\t");
                    _builder.append("Transition: (");
                    String _name_51 = scenario.getGiven().eClass().getName();
                    _builder.append(_name_51, "\t\t");
                    _builder.append("Warning->");
                    String _name_52 = scenario.getGiven().eClass().getName();
                    _builder.append(_name_52, "\t\t");
                    _builder.append(counterGiven, "\t\t");
                    _builder.append(")");
                    _builder.newLineIfNotEmpty();
                    _builder.append("\t\t");
                    _builder.append("\t");
                    _builder.append("Guard: []");
                    _builder.newLine();
                    _builder.append("\t\t");
                    _builder.append("\t");
                    _builder.newLine();
                    _builder.append("\t\t");
                  } else {
                    boolean _equals_8 = cmd.eClass().getName().equals("readServo");
                    if (_equals_8) {
                      readServo rs = ((readServo) cmd);
                      _builder.newLineIfNotEmpty();
                      _builder.append("\t\t");
                      _builder.append("State: ");
                      String _name_53 = scenario.getGiven().eClass().getName();
                      _builder.append(_name_53, "\t\t");
                      _builder.append(counterGiven, "\t\t");
                      _builder.newLineIfNotEmpty();
                      _builder.append("\t\t");
                      _builder.append("\t");
                      _builder.append("Activity: Arm.Servos.");
                      String _name_54 = cmd.eClass().getName();
                      _builder.append(_name_54, "\t\t\t");
                      _builder.append("(");
                      {
                        EList<Servo> _servo_11 = rs.getServo();
                        for(final Servo ser_1 : _servo_11) {
                          Servo value_11 = ((Servo) ser_1);
                          int _servo_12 = value_11.getServo();
                          _builder.append(_servo_12, "\t\t\t");
                        }
                      }
                      _builder.append(")");
                      _builder.newLineIfNotEmpty();
                      _builder.append("\t\t");
                      _builder.newLine();
                      _builder.append("\t\t");
                      _builder.append("Transition: (");
                      String _name_55 = scenario.getGiven().eClass().getName();
                      _builder.append(_name_55, "\t\t");
                      _builder.append(counterGiven, "\t\t");
                      _builder.append("->");
                      String _name_56 = scenario.getGiven().eClass().getName();
                      _builder.append(_name_56, "\t\t");
                      _builder.append("Warning)");
                      _builder.newLineIfNotEmpty();
                      _builder.append("\t\t");
                      _builder.append("\t");
                      _builder.append("Guard: Arm.wait(1000);\t");
                      _builder.newLine();
                      _builder.append("\t\t");
                      _builder.append("\t\t\t\t\t\t\t\t\t");
                      _builder.newLine();
                      _builder.append("\t\t");
                      _builder.append("Transition: (");
                      String _name_57 = scenario.getGiven().eClass().getName();
                      _builder.append(_name_57, "\t\t");
                      _builder.append("Warning->");
                      String _name_58 = scenario.getGiven().eClass().getName();
                      _builder.append(_name_58, "\t\t");
                      _builder.append(counterGiven, "\t\t");
                      _builder.append(")");
                      _builder.newLineIfNotEmpty();
                      _builder.append("\t\t");
                      _builder.append("\t");
                      _builder.append("Guard: []");
                      _builder.newLine();
                      _builder.append("\t\t");
                      _builder.append("\t");
                      _builder.newLine();
                      _builder.append("\t\t");
                    } else {
                      boolean _equals_9 = cmd.eClass().getName().equals("cameraColor");
                      if (_equals_9) {
                        cameraColor cc = ((cameraColor) cmd);
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t");
                        _builder.append("State: ");
                        String _name_59 = scenario.getGiven().eClass().getName();
                        _builder.append(_name_59, "\t\t");
                        _builder.append(counterGiven, "\t\t");
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t");
                        _builder.append("\t");
                        _builder.append("Activity: Arm.Camera.");
                        String _name_60 = cmd.eClass().getName();
                        _builder.append(_name_60, "\t\t\t");
                        _builder.append("(");
                        {
                          EList<Time> _time_28 = cc.getTime();
                          for(final Time tm_2 : _time_28) {
                            Time value_12 = ((Time) tm_2);
                            int _time_29 = value_12.getTime();
                            _builder.append(_time_29, "\t\t\t");
                            String _xblockexpression_9 = null;
                            {
                              int _counterTime = counterTime;
                              int _time_30 = value_12.getTime();
                              counterTime = (_counterTime + _time_30);
                              _xblockexpression_9 = "";
                            }
                            _builder.append(_xblockexpression_9, "\t\t\t");
                          }
                        }
                        _builder.append(");");
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t");
                        _builder.newLine();
                        _builder.append("\t\t");
                        _builder.append("Transition: (");
                        String _name_61 = scenario.getGiven().eClass().getName();
                        _builder.append(_name_61, "\t\t");
                        _builder.append(counterGiven, "\t\t");
                        _builder.append("->");
                        String _name_62 = scenario.getGiven().eClass().getName();
                        _builder.append(_name_62, "\t\t");
                        _builder.append("Warning)");
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t");
                        _builder.append("\t");
                        _builder.append("Guard: Arm.wait(");
                        {
                          EList<Time> _time_30 = cc.getTime();
                          for(final Time tmp_12 : _time_30) {
                            Time value_13 = ((Time) tmp_12);
                            int _time_31 = value_13.getTime();
                            _builder.append(_time_31, "\t\t\t");
                            _builder.append(");");
                          }
                        }
                        _builder.append("\t");
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t");
                        _builder.append("\t\t\t\t\t\t\t\t\t");
                        _builder.newLine();
                        _builder.append("\t\t");
                        _builder.append("Transition: (");
                        String _name_63 = scenario.getGiven().eClass().getName();
                        _builder.append(_name_63, "\t\t");
                        _builder.append("Warning->");
                        String _name_64 = scenario.getGiven().eClass().getName();
                        _builder.append(_name_64, "\t\t");
                        _builder.append(counterGiven, "\t\t");
                        _builder.append(")");
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t");
                        _builder.append("\t");
                        _builder.append("Guard: []");
                        _builder.newLine();
                        _builder.append("\t\t");
                        _builder.append("\t\t\t\t\t");
                        _builder.newLine();
                        _builder.append("\t\t");
                      } else {
                        boolean _equals_10 = cmd.eClass().getName().equals("calibration");
                        if (_equals_10) {
                          calibration ccon = ((calibration) cmd);
                          _builder.newLineIfNotEmpty();
                          _builder.append("\t\t");
                          _builder.append("State: ");
                          String _name_65 = scenario.getGiven().eClass().getName();
                          _builder.append(_name_65, "\t\t");
                          _builder.append(counterGiven, "\t\t");
                          _builder.newLineIfNotEmpty();
                          _builder.append("\t\t");
                          _builder.append("\t");
                          _builder.append("Activity: Arm.Camera.");
                          String _name_66 = cmd.eClass().getName();
                          _builder.append(_name_66, "\t\t\t");
                          _builder.append("(");
                          {
                            EList<Color> _color = ccon.getColor();
                            for(final Color color : _color) {
                              Color value_14 = ((Color) color);
                              String _color_1 = value_14.getColor();
                              _builder.append(_color_1, "\t\t\t");
                            }
                          }
                          _builder.append(", ");
                          {
                            EList<H_min> _h_min = ccon.getH_min();
                            for(final H_min hMin : _h_min) {
                              H_min value_15 = ((H_min) hMin);
                              int _h_min_1 = value_15.getH_min();
                              _builder.append(_h_min_1, "\t\t\t");
                            }
                          }
                          _builder.append(", ");
                          {
                            EList<S_min> _s_min = ccon.getS_min();
                            for(final S_min sMin : _s_min) {
                              S_min value_16 = ((S_min) sMin);
                              int _s_min_1 = value_16.getS_min();
                              _builder.append(_s_min_1, "\t\t\t");
                            }
                          }
                          _builder.append(", ");
                          {
                            EList<V_min> _v_min = ccon.getV_min();
                            for(final V_min vMin : _v_min) {
                              V_min value_17 = ((V_min) vMin);
                              int _v_min_1 = value_17.getV_min();
                              _builder.append(_v_min_1, "\t\t\t");
                            }
                          }
                          _builder.append(", ");
                          {
                            EList<H_max> _h_max = ccon.getH_max();
                            for(final H_max hMax : _h_max) {
                              H_max value_18 = ((H_max) hMax);
                              int _h_max_1 = value_18.getH_max();
                              _builder.append(_h_max_1, "\t\t\t");
                            }
                          }
                          _builder.append(", ");
                          {
                            EList<S_max> _s_max = ccon.getS_max();
                            for(final S_max sMax : _s_max) {
                              S_max value_19 = ((S_max) sMax);
                              int _s_max_1 = value_19.getS_max();
                              _builder.append(_s_max_1, "\t\t\t");
                            }
                          }
                          _builder.append(", ");
                          {
                            EList<V_max> _v_max = ccon.getV_max();
                            for(final V_max vMax : _v_max) {
                              V_max value_20 = ((V_max) vMax);
                              int _v_max_1 = value_20.getV_max();
                              _builder.append(_v_max_1, "\t\t\t");
                            }
                          }
                          _builder.append(");");
                          _builder.newLineIfNotEmpty();
                          _builder.append("\t\t");
                          _builder.newLine();
                          _builder.append("\t\t");
                          _builder.append("Transition: (");
                          String _name_67 = scenario.getGiven().eClass().getName();
                          _builder.append(_name_67, "\t\t");
                          _builder.append(counterGiven, "\t\t");
                          _builder.append("->");
                          String _name_68 = scenario.getGiven().eClass().getName();
                          _builder.append(_name_68, "\t\t");
                          _builder.append("Warning)");
                          _builder.newLineIfNotEmpty();
                          _builder.append("\t\t");
                          _builder.append("\t");
                          _builder.append("Guard: Arm.wait(1000);\t");
                          _builder.newLine();
                          _builder.append("\t\t");
                          _builder.append("\t\t\t\t\t\t\t\t\t");
                          _builder.newLine();
                          _builder.append("\t\t");
                          _builder.append("Transition: (");
                          String _name_69 = scenario.getGiven().eClass().getName();
                          _builder.append(_name_69, "\t\t");
                          _builder.append("Warning->");
                          String _name_70 = scenario.getGiven().eClass().getName();
                          _builder.append(_name_70, "\t\t");
                          _builder.append(counterGiven, "\t\t");
                          _builder.append(")");
                          _builder.newLineIfNotEmpty();
                          _builder.append("\t\t");
                          _builder.append("\t");
                          _builder.append("Guard: []");
                          _builder.newLine();
                          _builder.append("\t\t");
                          _builder.append("\t");
                          _builder.newLine();
                          _builder.append("\t\t");
                        } else {
                          boolean _equals_11 = cmd.eClass().getName().equals("buzzerOn");
                          if (_equals_11) {
                            buzzerOn bon = ((buzzerOn) cmd);
                            _builder.newLineIfNotEmpty();
                            _builder.append("\t\t");
                            _builder.append("State: ");
                            String _name_71 = scenario.getGiven().eClass().getName();
                            _builder.append(_name_71, "\t\t");
                            _builder.append(counterGiven, "\t\t");
                            _builder.newLineIfNotEmpty();
                            _builder.append("\t\t");
                            _builder.append("\t");
                            _builder.append("Activity: Board.Buzzer.");
                            String _name_72 = cmd.eClass().getName();
                            _builder.append(_name_72, "\t\t\t");
                            _builder.append("(");
                            {
                              EList<Time> _time_32 = bon.getTime();
                              for(final Time tm_3 : _time_32) {
                                Time value_21 = ((Time) tm_3);
                                int _time_33 = value_21.getTime();
                                _builder.append(_time_33, "\t\t\t");
                                String _xblockexpression_10 = null;
                                {
                                  int _counterTime = counterTime;
                                  int _time_34 = value_21.getTime();
                                  counterTime = (_counterTime + _time_34);
                                  _xblockexpression_10 = "";
                                }
                                _builder.append(_xblockexpression_10, "\t\t\t");
                              }
                            }
                            _builder.append(");");
                            _builder.newLineIfNotEmpty();
                            _builder.append("\t\t");
                            _builder.append("\t\t\t\t");
                            _builder.newLine();
                            _builder.append("\t\t");
                            _builder.append("Transition: (");
                            String _name_73 = scenario.getGiven().eClass().getName();
                            _builder.append(_name_73, "\t\t");
                            _builder.append(counterGiven, "\t\t");
                            _builder.append("->");
                            String _name_74 = scenario.getGiven().eClass().getName();
                            _builder.append(_name_74, "\t\t");
                            _builder.append("Warning)");
                            _builder.newLineIfNotEmpty();
                            _builder.append("\t\t");
                            _builder.append("\t");
                            _builder.append("Guard: Arm.wait(1000);\t");
                            _builder.newLine();
                            _builder.append("\t\t");
                            _builder.append("\t\t\t\t\t\t\t\t\t");
                            _builder.newLine();
                            _builder.append("\t\t");
                            _builder.append("Transition: (");
                            String _name_75 = scenario.getGiven().eClass().getName();
                            _builder.append(_name_75, "\t\t");
                            _builder.append("Warning->");
                            String _name_76 = scenario.getGiven().eClass().getName();
                            _builder.append(_name_76, "\t\t");
                            _builder.append(counterGiven, "\t\t");
                            _builder.append(")");
                            _builder.newLineIfNotEmpty();
                            _builder.append("\t\t");
                            _builder.append("\t");
                            _builder.append("Guard: []");
                            _builder.newLine();
                            _builder.append("\t\t");
                            _builder.append("\t");
                            _builder.newLine();
                            _builder.append("\t\t");
                          } else {
                            boolean _equals_12 = cmd.eClass().getName().equals("buzzerOff");
                            if (_equals_12) {
                              buzzerOff boff = ((buzzerOff) cmd);
                              _builder.newLineIfNotEmpty();
                              _builder.append("\t\t");
                              _builder.append("State: ");
                              String _name_77 = scenario.getGiven().eClass().getName();
                              _builder.append(_name_77, "\t\t");
                              _builder.append(counterGiven, "\t\t");
                              _builder.newLineIfNotEmpty();
                              _builder.append("\t\t");
                              _builder.append("\t");
                              _builder.append("Activity: Board.Buzzer.");
                              String _name_78 = cmd.eClass().getName();
                              _builder.append(_name_78, "\t\t\t");
                              _builder.append("();");
                              _builder.newLineIfNotEmpty();
                              _builder.append("\t\t");
                              _builder.append("\t\t\t\t");
                              _builder.newLine();
                              _builder.append("\t\t");
                              _builder.append("Transition: (");
                              String _name_79 = scenario.getGiven().eClass().getName();
                              _builder.append(_name_79, "\t\t");
                              _builder.append(counterGiven, "\t\t");
                              _builder.append("->");
                              String _name_80 = scenario.getGiven().eClass().getName();
                              _builder.append(_name_80, "\t\t");
                              _builder.append("Warning)");
                              _builder.newLineIfNotEmpty();
                              _builder.append("\t\t");
                              _builder.append("\t");
                              _builder.append("Guard: Arm.wait(1000);\t");
                              _builder.newLine();
                              _builder.append("\t\t");
                              _builder.append("\t\t\t\t\t\t\t\t\t");
                              _builder.newLine();
                              _builder.append("\t\t");
                              _builder.append("Transition: (");
                              String _name_81 = scenario.getGiven().eClass().getName();
                              _builder.append(_name_81, "\t\t");
                              _builder.append("Warning->");
                              String _name_82 = scenario.getGiven().eClass().getName();
                              _builder.append(_name_82, "\t\t");
                              _builder.append(counterGiven, "\t\t");
                              _builder.append(")");
                              _builder.newLineIfNotEmpty();
                              _builder.append("\t\t");
                              _builder.append("\t");
                              _builder.append("Guard: []");
                              _builder.newLine();
                              _builder.append("\t\t");
                              _builder.append("\t");
                              _builder.newLine();
                              _builder.append("\t\t");
                            } else {
                              boolean _equals_13 = cmd.eClass().getName().equals("lightRGB");
                              if (_equals_13) {
                                lightRGB rgb = ((lightRGB) cmd);
                                _builder.newLineIfNotEmpty();
                                _builder.append("\t\t");
                                _builder.append("State: ");
                                String _name_83 = scenario.getGiven().eClass().getName();
                                _builder.append(_name_83, "\t\t");
                                _builder.append(counterGiven, "\t\t");
                                _builder.newLineIfNotEmpty();
                                _builder.append("\t\t");
                                _builder.append("\t");
                                _builder.append("Activity: Board.Light.");
                                String _name_84 = cmd.eClass().getName();
                                _builder.append(_name_84, "\t\t\t");
                                _builder.append("(");
                                {
                                  EList<R> _r = rgb.getR();
                                  for(final R r : _r) {
                                    R value_22 = ((R) r);
                                    int _r_1 = value_22.getR();
                                    _builder.append(_r_1, "\t\t\t");
                                  }
                                }
                                _builder.append(", ");
                                {
                                  EList<G> _g = rgb.getG();
                                  for(final G g : _g) {
                                    G value_23 = ((G) g);
                                    int _g_1 = value_23.getG();
                                    _builder.append(_g_1, "\t\t\t");
                                  }
                                }
                                _builder.append(", ");
                                {
                                  EList<B> _b = rgb.getB();
                                  for(final B b : _b) {
                                    B value_24 = ((B) b);
                                    int _b_1 = value_24.getB();
                                    _builder.append(_b_1, "\t\t\t");
                                  }
                                }
                                _builder.append(");");
                                _builder.newLineIfNotEmpty();
                                _builder.append("\t\t");
                                _builder.append("\t\t\t");
                                _builder.newLine();
                                _builder.append("\t\t");
                                _builder.append("Transition: (");
                                String _name_85 = scenario.getGiven().eClass().getName();
                                _builder.append(_name_85, "\t\t");
                                _builder.append(counterGiven, "\t\t");
                                _builder.append("->");
                                String _name_86 = scenario.getGiven().eClass().getName();
                                _builder.append(_name_86, "\t\t");
                                _builder.append("Warning)");
                                _builder.newLineIfNotEmpty();
                                _builder.append("\t\t");
                                _builder.append("\t");
                                _builder.append("Guard: Arm.wait(1000);\t");
                                _builder.newLine();
                                _builder.append("\t\t");
                                _builder.append("\t\t\t\t\t\t\t\t\t");
                                _builder.newLine();
                                _builder.append("\t\t");
                                _builder.append("Transition: (");
                                String _name_87 = scenario.getGiven().eClass().getName();
                                _builder.append(_name_87, "\t\t");
                                _builder.append("Warning->");
                                String _name_88 = scenario.getGiven().eClass().getName();
                                _builder.append(_name_88, "\t\t");
                                _builder.append(counterGiven, "\t\t");
                                _builder.append(")");
                                _builder.newLineIfNotEmpty();
                                _builder.append("\t\t");
                                _builder.append("\t");
                                _builder.append("Guard: []");
                                _builder.newLine();
                                _builder.append("\t\t");
                                _builder.append("\t");
                                _builder.newLine();
                                _builder.append("\t\t");
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
        String _xblockexpression_11 = null;
        {
          current = counterGiven;
          _xblockexpression_11 = "";
        }
        _builder.append(_xblockexpression_11, "\t\t");
        String _xblockexpression_12 = null;
        {
          counterGiven++;
          _xblockexpression_12 = "";
        }
        _builder.append(_xblockexpression_12, "\t\t");
        _builder.newLineIfNotEmpty();
        {
          int _length = ((Object[])Conversions.unwrapArray(scenario.getAndGiven(), Object.class)).length;
          boolean _equals_14 = (current == _length);
          if (_equals_14) {
          } else {
            _builder.append("\t\t");
            _builder.append("Transition: (");
            String _name_89 = scenario.getGiven().eClass().getName();
            _builder.append(_name_89, "\t\t");
            _builder.append(current, "\t\t");
            _builder.append("->");
            String _name_90 = scenario.getGiven().eClass().getName();
            _builder.append(_name_90, "\t\t");
            _builder.append(counterGiven, "\t\t");
            _builder.append(")");
            _builder.newLineIfNotEmpty();
            _builder.append("\t\t");
            _builder.append("\t");
            _builder.append("Guard: []");
            _builder.newLine();
            _builder.append("\t\t");
            _builder.newLine();
          }
        }
      }
    }
    _builder.append("\t\t");
    _builder.append("State: ");
    String _name_91 = scenario.getGiven().eClass().getName();
    _builder.append(_name_91, "\t\t");
    _builder.append("Warning");
    _builder.newLineIfNotEmpty();
    _builder.append("\t\t\t\t");
    _builder.append("Activity: MessReport(mWarning, \"Warning Time\");");
    _builder.newLine();
    _builder.append("\t\t\t");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("Transition: (");
    String _name_92 = scenario.getGiven().eClass().getName();
    _builder.append(_name_92, "\t\t");
    _builder.append(current, "\t\t");
    _builder.append("->");
    String _name_93 = scenario.getWhen().eClass().getName();
    _builder.append(_name_93, "\t\t");
    _builder.append(")\t\t\t\t");
    _builder.newLineIfNotEmpty();
    {
      boolean _isEmpty = scenario.getAndGiven().isEmpty();
      if (_isEmpty) {
        _builder.append("\t\t\t\t");
        _builder.append("Guard: Arm.isAt(90,90,90,90,90,90,2);");
        _builder.newLine();
      } else {
        {
          EList<AndWhen> _andGiven_1 = scenario.getAndGiven();
          for(final AndWhen andG_1 : _andGiven_1) {
            {
              EList<Command> _command_1 = andG_1.getCommand();
              for(final Command cmd_1 : _command_1) {
                _builder.append("\t\t\t\t");
                String _xblockexpression_13 = null;
                {
                  counterLength++;
                  _xblockexpression_13 = "";
                }
                _builder.append(_xblockexpression_13, "\t\t\t\t");
                _builder.newLineIfNotEmpty();
                {
                  int _length_1 = ((Object[])Conversions.unwrapArray(scenario.getAndGiven(), Object.class)).length;
                  boolean _equals_15 = (counterLength == _length_1);
                  if (_equals_15) {
                    _builder.append("\t\t\t\t");
                    {
                      boolean _equals_16 = cmd_1.getName().equals("rotateServo");
                      if (_equals_16) {
                        rotateServo ias = ((rotateServo) cmd_1);
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t\t\t");
                        _builder.append("Guard: Arm.Servos.isAtSingle(");
                        {
                          EList<Servo> _servo_13 = ias.getServo();
                          for(final Servo ser_2 : _servo_13) {
                            Servo value_25 = ((Servo) ser_2);
                            int _servo_14 = value_25.getServo();
                            _builder.append(_servo_14, "\t\t\t\t");
                          }
                        }
                        _builder.append(", ");
                        {
                          EList<Angle> _angle_16 = ias.getAngle();
                          for(final Angle ang_5 : _angle_16) {
                            Angle value_26 = ((Angle) ang_5);
                            int _angle_17 = value_26.getAngle();
                            _builder.append(_angle_17, "\t\t\t\t");
                          }
                        }
                        _builder.append(", 2)\t\t\t\t\t\t\t\t\t\t\t\t");
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t\t\t");
                      } else {
                        boolean _equals_17 = cmd_1.getName().equals("rotateAllServos");
                        if (_equals_17) {
                          rotateAllServos ia = ((rotateAllServos) cmd_1);
                          _builder.append("\t\t\t\t\t\t");
                          _builder.newLineIfNotEmpty();
                          _builder.append("\t\t\t\t");
                          _builder.append("Guard: Arm.isAt(");
                          {
                            EList<Angle> _angle1_1 = ia.getAngle1();
                            for(final Angle ang_6 : _angle1_1) {
                              Angle value_27 = ((Angle) ang_6);
                              int _angle_18 = value_27.getAngle();
                              _builder.append(_angle_18, "\t\t\t\t");
                            }
                          }
                          _builder.append(", ");
                          {
                            EList<Angle> _angle2_1 = ia.getAngle2();
                            for(final Angle ang_7 : _angle2_1) {
                              Angle value_28 = ((Angle) ang_7);
                              int _angle_19 = value_28.getAngle();
                              _builder.append(_angle_19, "\t\t\t\t");
                            }
                          }
                          _builder.append(", ");
                          {
                            EList<Angle> _angle3_1 = ia.getAngle3();
                            for(final Angle ang_8 : _angle3_1) {
                              Angle value_29 = ((Angle) ang_8);
                              int _angle_20 = value_29.getAngle();
                              _builder.append(_angle_20, "\t\t\t\t");
                            }
                          }
                          _builder.append(", ");
                          {
                            EList<Angle> _angle4_1 = ia.getAngle4();
                            for(final Angle ang_9 : _angle4_1) {
                              Angle value_30 = ((Angle) ang_9);
                              int _angle_21 = value_30.getAngle();
                              _builder.append(_angle_21, "\t\t\t\t");
                            }
                          }
                          _builder.append(", ");
                          {
                            EList<Angle> _angle5_1 = ia.getAngle5();
                            for(final Angle ang_10 : _angle5_1) {
                              Angle value_31 = ((Angle) ang_10);
                              int _angle_22 = value_31.getAngle();
                              _builder.append(_angle_22, "\t\t\t\t");
                            }
                          }
                          _builder.append(", ");
                          {
                            EList<Angle> _angle6_1 = ia.getAngle6();
                            for(final Angle ang_11 : _angle6_1) {
                              Angle value_32 = ((Angle) ang_11);
                              int _angle_23 = value_32.getAngle();
                              _builder.append(_angle_23, "\t\t\t\t");
                            }
                          }
                          _builder.append(", 2);");
                          _builder.newLineIfNotEmpty();
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    _builder.append("\t\t\t\t");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("State: ");
    String _name_94 = scenario.getWhen().eClass().getName();
    _builder.append(_name_94, "\t\t");
    _builder.newLineIfNotEmpty();
    {
      EList<Command> _command_2 = scenario.getWhen().getCommand();
      for(final Command cmd_2 : _command_2) {
        _builder.append("\t\t\t\t");
        {
          boolean _equals_18 = cmd_2.eClass().getName().equals("rotateServo");
          if (_equals_18) {
            rotateServo rot_2 = ((rotateServo) cmd_2);
            {
              EList<Servo> _servo_15 = rot_2.getServo();
              for(final Servo ser_3 : _servo_15) {
                Servo value_33 = ((Servo) ser_3);
                _builder.append("\t\t\t\t\t\t");
                _builder.newLineIfNotEmpty();
                {
                  int _servo_16 = value_33.getServo();
                  boolean _equals_19 = (_servo_16 == 1);
                  if (_equals_19) {
                    _builder.append("\t\t\t\t");
                    _builder.append("Activity: Arm.BaseServo.ServosOperations.");
                    String _name_95 = cmd_2.eClass().getName();
                    _builder.append(_name_95, "\t\t\t\t");
                    _builder.append("(");
                    int _servo_17 = value_33.getServo();
                    _builder.append(_servo_17, "\t\t\t\t");
                    _builder.append(", ");
                    {
                      EList<Angle> _angle_24 = rot_2.getAngle();
                      for(final Angle ang_12 : _angle_24) {
                        Angle valor_10 = ((Angle) ang_12);
                        int _angle_25 = valor_10.getAngle();
                        _builder.append(_angle_25, "\t\t\t\t");
                      }
                    }
                    _builder.append(", ");
                    {
                      EList<Time> _time_34 = rot_2.getTime();
                      for(final Time tmp_13 : _time_34) {
                        Time valor_11 = ((Time) tmp_13);
                        int _time_35 = valor_11.getTime();
                        _builder.append(_time_35, "\t\t\t\t");
                        String _xblockexpression_14 = null;
                        {
                          int _counterTime = counterTime;
                          int _time_36 = valor_11.getTime();
                          counterTime = (_counterTime + _time_36);
                          _xblockexpression_14 = "";
                        }
                        _builder.append(_xblockexpression_14, "\t\t\t\t");
                      }
                    }
                    _builder.append(");");
                    _builder.newLineIfNotEmpty();
                  } else {
                    int _servo_18 = value_33.getServo();
                    boolean _equals_20 = (_servo_18 == 2);
                    if (_equals_20) {
                      _builder.append("\t\t\t\t");
                      _builder.append("Activity: Arm.LowerServo.ServosOperations.");
                      String _name_96 = cmd_2.eClass().getName();
                      _builder.append(_name_96, "\t\t\t\t");
                      _builder.append("(");
                      int _servo_19 = value_33.getServo();
                      _builder.append(_servo_19, "\t\t\t\t");
                      _builder.append(", ");
                      {
                        EList<Angle> _angle_26 = rot_2.getAngle();
                        for(final Angle ang_13 : _angle_26) {
                          Angle valor_12 = ((Angle) ang_13);
                          int _angle_27 = valor_12.getAngle();
                          _builder.append(_angle_27, "\t\t\t\t");
                        }
                      }
                      _builder.append(", ");
                      {
                        EList<Time> _time_36 = rot_2.getTime();
                        for(final Time tmp_14 : _time_36) {
                          Time valor_13 = ((Time) tmp_14);
                          int _time_37 = valor_13.getTime();
                          _builder.append(_time_37, "\t\t\t\t");
                          String _xblockexpression_15 = null;
                          {
                            int _counterTime = counterTime;
                            int _time_38 = valor_13.getTime();
                            counterTime = (_counterTime + _time_38);
                            _xblockexpression_15 = "";
                          }
                          _builder.append(_xblockexpression_15, "\t\t\t\t");
                        }
                      }
                      _builder.append(");");
                      _builder.newLineIfNotEmpty();
                    } else {
                      int _servo_20 = value_33.getServo();
                      boolean _equals_21 = (_servo_20 == 3);
                      if (_equals_21) {
                        _builder.append("\t\t\t\t");
                        _builder.append("Activity: Arm.MiddleServo.ServosOperations.");
                        String _name_97 = cmd_2.eClass().getName();
                        _builder.append(_name_97, "\t\t\t\t");
                        _builder.append("(");
                        int _servo_21 = value_33.getServo();
                        _builder.append(_servo_21, "\t\t\t\t");
                        _builder.append(", ");
                        {
                          EList<Angle> _angle_28 = rot_2.getAngle();
                          for(final Angle ang_14 : _angle_28) {
                            Angle valor_14 = ((Angle) ang_14);
                            int _angle_29 = valor_14.getAngle();
                            _builder.append(_angle_29, "\t\t\t\t");
                          }
                        }
                        _builder.append(", ");
                        {
                          EList<Time> _time_38 = rot_2.getTime();
                          for(final Time tmp_15 : _time_38) {
                            Time valor_15 = ((Time) tmp_15);
                            int _time_39 = valor_15.getTime();
                            _builder.append(_time_39, "\t\t\t\t");
                            String _xblockexpression_16 = null;
                            {
                              int _counterTime = counterTime;
                              int _time_40 = valor_15.getTime();
                              counterTime = (_counterTime + _time_40);
                              _xblockexpression_16 = "";
                            }
                            _builder.append(_xblockexpression_16, "\t\t\t\t");
                          }
                        }
                        _builder.append(");");
                        _builder.newLineIfNotEmpty();
                      } else {
                        int _servo_22 = value_33.getServo();
                        boolean _equals_22 = (_servo_22 == 4);
                        if (_equals_22) {
                          _builder.append("\t\t\t\t");
                          _builder.append("Activity: Arm.UpperServo.ServosOperations.");
                          String _name_98 = cmd_2.eClass().getName();
                          _builder.append(_name_98, "\t\t\t\t");
                          _builder.append("(");
                          int _servo_23 = value_33.getServo();
                          _builder.append(_servo_23, "\t\t\t\t");
                          _builder.append(", ");
                          {
                            EList<Angle> _angle_30 = rot_2.getAngle();
                            for(final Angle ang_15 : _angle_30) {
                              Angle valor_16 = ((Angle) ang_15);
                              int _angle_31 = valor_16.getAngle();
                              _builder.append(_angle_31, "\t\t\t\t");
                            }
                          }
                          _builder.append(", ");
                          {
                            EList<Time> _time_40 = rot_2.getTime();
                            for(final Time tmp_16 : _time_40) {
                              Time valor_17 = ((Time) tmp_16);
                              int _time_41 = valor_17.getTime();
                              _builder.append(_time_41, "\t\t\t\t");
                              String _xblockexpression_17 = null;
                              {
                                int _counterTime = counterTime;
                                int _time_42 = valor_17.getTime();
                                counterTime = (_counterTime + _time_42);
                                _xblockexpression_17 = "";
                              }
                              _builder.append(_xblockexpression_17, "\t\t\t\t");
                            }
                          }
                          _builder.append(");");
                          _builder.newLineIfNotEmpty();
                        } else {
                          int _servo_24 = value_33.getServo();
                          boolean _equals_23 = (_servo_24 == 5);
                          if (_equals_23) {
                            _builder.append("\t\t\t\t");
                            _builder.append("Activity: Arm.WristServo.ServosOperations.");
                            String _name_99 = cmd_2.eClass().getName();
                            _builder.append(_name_99, "\t\t\t\t");
                            _builder.append("(");
                            int _servo_25 = value_33.getServo();
                            _builder.append(_servo_25, "\t\t\t\t");
                            _builder.append(", ");
                            {
                              EList<Angle> _angle_32 = rot_2.getAngle();
                              for(final Angle ang_16 : _angle_32) {
                                Angle valor_18 = ((Angle) ang_16);
                                int _angle_33 = valor_18.getAngle();
                                _builder.append(_angle_33, "\t\t\t\t");
                              }
                            }
                            _builder.append(", ");
                            {
                              EList<Time> _time_42 = rot_2.getTime();
                              for(final Time tmp_17 : _time_42) {
                                Time valor_19 = ((Time) tmp_17);
                                int _time_43 = valor_19.getTime();
                                _builder.append(_time_43, "\t\t\t\t");
                                String _xblockexpression_18 = null;
                                {
                                  int _counterTime = counterTime;
                                  int _time_44 = valor_19.getTime();
                                  counterTime = (_counterTime + _time_44);
                                  _xblockexpression_18 = "";
                                }
                                _builder.append(_xblockexpression_18, "\t\t\t\t");
                              }
                            }
                            _builder.append(");");
                            _builder.newLineIfNotEmpty();
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
            _builder.append("\t\t\t\t");
          } else {
            boolean _equals_24 = cmd_2.eClass().getName().equals("rotateAllServos");
            if (_equals_24) {
              rotateAllServos rot_3 = ((rotateAllServos) cmd_2);
              _builder.newLineIfNotEmpty();
              _builder.append("\t\t\t\t");
              _builder.append("Activity: Arm.");
              String _name_100 = cmd_2.eClass().getName();
              _builder.append(_name_100, "\t\t\t\t");
              _builder.append("(");
              {
                EList<Angle> _angle1_2 = rot_3.getAngle1();
                for(final Angle ang1_1 : _angle1_2) {
                  Angle value_34 = ((Angle) ang1_1);
                  int _angle_34 = value_34.getAngle();
                  _builder.append(_angle_34, "\t\t\t\t");
                }
              }
              _builder.append(", ");
              {
                EList<Angle> _angle2_2 = rot_3.getAngle2();
                for(final Angle ang2_1 : _angle2_2) {
                  Angle value_35 = ((Angle) ang2_1);
                  int _angle_35 = value_35.getAngle();
                  _builder.append(_angle_35, "\t\t\t\t");
                }
              }
              _builder.append(", ");
              {
                EList<Angle> _angle3_2 = rot_3.getAngle3();
                for(final Angle ang3_1 : _angle3_2) {
                  Angle value_36 = ((Angle) ang3_1);
                  int _angle_36 = value_36.getAngle();
                  _builder.append(_angle_36, "\t\t\t\t");
                }
              }
              _builder.append(", ");
              {
                EList<Angle> _angle4_2 = rot_3.getAngle4();
                for(final Angle ang4_1 : _angle4_2) {
                  Angle value_37 = ((Angle) ang4_1);
                  int _angle_37 = value_37.getAngle();
                  _builder.append(_angle_37, "\t\t\t\t");
                }
              }
              _builder.append(", ");
              {
                EList<Angle> _angle5_2 = rot_3.getAngle5();
                for(final Angle ang5_1 : _angle5_2) {
                  Angle value_38 = ((Angle) ang5_1);
                  int _angle_38 = value_38.getAngle();
                  _builder.append(_angle_38, "\t\t\t\t");
                }
              }
              _builder.append(", ");
              {
                EList<Angle> _angle6_2 = rot_3.getAngle6();
                for(final Angle ang6_1 : _angle6_2) {
                  Angle value_39 = ((Angle) ang6_1);
                  int _angle_39 = value_39.getAngle();
                  _builder.append(_angle_39, "\t\t\t\t");
                }
              }
              _builder.append(", ");
              {
                EList<Time> _time_44 = rot_3.getTime();
                for(final Time tmp_18 : _time_44) {
                  Time value_40 = ((Time) tmp_18);
                  int _time_45 = value_40.getTime();
                  _builder.append(_time_45, "\t\t\t\t");
                }
              }
              _builder.append(");");
              _builder.newLineIfNotEmpty();
              _builder.append("\t\t\t\t");
            } else {
              boolean _equals_25 = cmd_2.eClass().getName().equals("readAllServos");
              if (_equals_25) {
                readAllServos ras_1 = ((readAllServos) cmd_2);
                _builder.newLineIfNotEmpty();
                _builder.append("\t\t\t\t");
                _builder.append("Activity: Arm.");
                String _name_101 = cmd_2.eClass().getName();
                _builder.append(_name_101, "\t\t\t\t");
                _builder.append("()");
                _builder.newLineIfNotEmpty();
                _builder.append("\t\t\t\t");
              } else {
                boolean _equals_26 = cmd_2.eClass().getName().equals("readServo");
                if (_equals_26) {
                  readServo rs_1 = ((readServo) cmd_2);
                  _builder.newLineIfNotEmpty();
                  _builder.append("\t\t\t\t");
                  _builder.append("Activity: Arm.Servos.");
                  String _name_102 = cmd_2.eClass().getName();
                  _builder.append(_name_102, "\t\t\t\t");
                  _builder.append("(");
                  {
                    EList<Servo> _servo_26 = rs_1.getServo();
                    for(final Servo ser_4 : _servo_26) {
                      Servo value_41 = ((Servo) ser_4);
                      int _servo_27 = value_41.getServo();
                      _builder.append(_servo_27, "\t\t\t\t");
                    }
                  }
                  _builder.append(")");
                  _builder.newLineIfNotEmpty();
                  _builder.append("\t\t\t\t");
                } else {
                  boolean _equals_27 = cmd_2.eClass().getName().equals("cameraColor");
                  if (_equals_27) {
                    cameraColor cc_1 = ((cameraColor) cmd_2);
                    _builder.newLineIfNotEmpty();
                    _builder.append("\t\t\t\t");
                    _builder.append("Activity: Arm.Camera.");
                    String _name_103 = cmd_2.eClass().getName();
                    _builder.append(_name_103, "\t\t\t\t");
                    _builder.append("(");
                    {
                      EList<Time> _time_46 = cc_1.getTime();
                      for(final Time tm_4 : _time_46) {
                        Time value_42 = ((Time) tm_4);
                        int _time_47 = value_42.getTime();
                        _builder.append(_time_47, "\t\t\t\t");
                        String _xblockexpression_19 = null;
                        {
                          int _counterTime = counterTime;
                          int _time_48 = value_42.getTime();
                          counterTime = (_counterTime + _time_48);
                          _xblockexpression_19 = "";
                        }
                        _builder.append(_xblockexpression_19, "\t\t\t\t");
                      }
                    }
                    _builder.append(");");
                    _builder.newLineIfNotEmpty();
                    _builder.append("\t\t\t\t");
                  } else {
                    boolean _equals_28 = cmd_2.eClass().getName().equals("calibration");
                    if (_equals_28) {
                      calibration ccon_1 = ((calibration) cmd_2);
                      _builder.newLineIfNotEmpty();
                      _builder.append("\t\t\t\t");
                      _builder.append("Activity: Arm.Camera.");
                      String _name_104 = cmd_2.eClass().getName();
                      _builder.append(_name_104, "\t\t\t\t");
                      _builder.append("(");
                      {
                        EList<Color> _color_2 = ccon_1.getColor();
                        for(final Color color_1 : _color_2) {
                          Color value_43 = ((Color) color_1);
                          String _color_3 = value_43.getColor();
                          _builder.append(_color_3, "\t\t\t\t");
                        }
                      }
                      _builder.append(", ");
                      {
                        EList<H_min> _h_min_2 = ccon_1.getH_min();
                        for(final H_min hMin_1 : _h_min_2) {
                          H_min value_44 = ((H_min) hMin_1);
                          int _h_min_3 = value_44.getH_min();
                          _builder.append(_h_min_3, "\t\t\t\t");
                        }
                      }
                      _builder.append(", ");
                      {
                        EList<S_min> _s_min_2 = ccon_1.getS_min();
                        for(final S_min sMin_1 : _s_min_2) {
                          S_min value_45 = ((S_min) sMin_1);
                          int _s_min_3 = value_45.getS_min();
                          _builder.append(_s_min_3, "\t\t\t\t");
                        }
                      }
                      _builder.append(", ");
                      {
                        EList<V_min> _v_min_2 = ccon_1.getV_min();
                        for(final V_min vMin_1 : _v_min_2) {
                          V_min value_46 = ((V_min) vMin_1);
                          int _v_min_3 = value_46.getV_min();
                          _builder.append(_v_min_3, "\t\t\t\t");
                        }
                      }
                      _builder.append(", ");
                      {
                        EList<H_max> _h_max_2 = ccon_1.getH_max();
                        for(final H_max hMax_1 : _h_max_2) {
                          H_max value_47 = ((H_max) hMax_1);
                          int _h_max_3 = value_47.getH_max();
                          _builder.append(_h_max_3, "\t\t\t\t");
                        }
                      }
                      _builder.append(", ");
                      {
                        EList<S_max> _s_max_2 = ccon_1.getS_max();
                        for(final S_max sMax_1 : _s_max_2) {
                          S_max value_48 = ((S_max) sMax_1);
                          int _s_max_3 = value_48.getS_max();
                          _builder.append(_s_max_3, "\t\t\t\t");
                        }
                      }
                      _builder.append(", ");
                      {
                        EList<V_max> _v_max_2 = ccon_1.getV_max();
                        for(final V_max vMax_1 : _v_max_2) {
                          V_max value_49 = ((V_max) vMax_1);
                          int _v_max_3 = value_49.getV_max();
                          _builder.append(_v_max_3, "\t\t\t\t");
                        }
                      }
                      _builder.append(");");
                      _builder.newLineIfNotEmpty();
                      _builder.append("\t\t\t\t");
                    } else {
                      boolean _equals_29 = cmd_2.eClass().getName().equals("buzzerOn");
                      if (_equals_29) {
                        buzzerOn bon_1 = ((buzzerOn) cmd_2);
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t\t\t");
                        _builder.append("Activity: Board.Buzzer.");
                        String _name_105 = cmd_2.eClass().getName();
                        _builder.append(_name_105, "\t\t\t\t");
                        _builder.append("(");
                        {
                          EList<Time> _time_48 = bon_1.getTime();
                          for(final Time tm_5 : _time_48) {
                            Time value_50 = ((Time) tm_5);
                            int _time_49 = value_50.getTime();
                            _builder.append(_time_49, "\t\t\t\t");
                            String _xblockexpression_20 = null;
                            {
                              int _counterTime = counterTime;
                              int _time_50 = value_50.getTime();
                              counterTime = (_counterTime + _time_50);
                              _xblockexpression_20 = "";
                            }
                            _builder.append(_xblockexpression_20, "\t\t\t\t");
                          }
                        }
                        _builder.append(");");
                        _builder.newLineIfNotEmpty();
                        _builder.append("\t\t\t\t");
                      } else {
                        boolean _equals_30 = cmd_2.eClass().getName().equals("buzzerOff");
                        if (_equals_30) {
                          buzzerOff boff_1 = ((buzzerOff) cmd_2);
                          _builder.newLineIfNotEmpty();
                          _builder.append("\t\t\t\t");
                          _builder.append("Activity: Board.Buzzer.");
                          String _name_106 = cmd_2.eClass().getName();
                          _builder.append(_name_106, "\t\t\t\t");
                          _builder.append("();");
                          _builder.newLineIfNotEmpty();
                          _builder.append("\t\t\t\t");
                        } else {
                          boolean _equals_31 = cmd_2.eClass().getName().equals("lightRGB");
                          if (_equals_31) {
                            lightRGB rgb_1 = ((lightRGB) cmd_2);
                            _builder.newLineIfNotEmpty();
                            _builder.append("\t\t\t\t");
                            _builder.append("Activity: Board.Light.");
                            String _name_107 = cmd_2.eClass().getName();
                            _builder.append(_name_107, "\t\t\t\t");
                            _builder.append("(");
                            {
                              EList<R> _r_2 = rgb_1.getR();
                              for(final R r_1 : _r_2) {
                                R value_51 = ((R) r_1);
                                int _r_3 = value_51.getR();
                                _builder.append(_r_3, "\t\t\t\t");
                              }
                            }
                            _builder.append(", ");
                            {
                              EList<G> _g_2 = rgb_1.getG();
                              for(final G g_1 : _g_2) {
                                G value_52 = ((G) g_1);
                                int _g_3 = value_52.getG();
                                _builder.append(_g_3, "\t\t\t\t");
                              }
                            }
                            _builder.append(", ");
                            {
                              EList<B> _b_2 = rgb_1.getB();
                              for(final B b_1 : _b_2) {
                                B value_53 = ((B) b_1);
                                int _b_3 = value_53.getB();
                                _builder.append(_b_3, "\t\t\t\t");
                              }
                            }
                            _builder.append(");");
                            _builder.newLineIfNotEmpty();
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    _builder.append("\t\t\t\t");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("Transition: (");
    String _name_108 = scenario.getWhen().eClass().getName();
    _builder.append(_name_108, "\t\t");
    _builder.append("->Error)");
    _builder.newLineIfNotEmpty();
    {
      EList<And> _and = scenario.getAnd();
      for(final And and : _and) {
        {
          EList<Conditions> _conditions = and.getConditions();
          for(final Conditions cond : _conditions) {
            _builder.append("\t\t\t\t");
            {
              EList<Time> _time_50 = cond.getTime();
              for(final Time tm_6 : _time_50) {
                Time value_54 = ((Time) tm_6);
                _builder.newLineIfNotEmpty();
                {
                  int _time_51 = value_54.getTime();
                  boolean _greaterThan = (_time_51 > maxTime);
                  if (_greaterThan) {
                    _builder.append("\t\t\t\t");
                    String _xblockexpression_21 = null;
                    {
                      maxTime = value_54.getTime();
                      _xblockexpression_21 = "";
                    }
                    _builder.append(_xblockexpression_21, "\t\t\t\t");
                    _builder.newLineIfNotEmpty();
                    _builder.append("\t\t\t\t");
                    String _xblockexpression_22 = null;
                    {
                      condName = cond.getName();
                      _xblockexpression_22 = "";
                    }
                    _builder.append(_xblockexpression_22, "\t\t\t\t");
                    _builder.newLineIfNotEmpty();
                  }
                }
              }
            }
          }
        }
      }
    }
    {
      boolean _isEmpty_1 = scenario.getAnd().isEmpty();
      if (_isEmpty_1) {
        _builder.append("\t\t\t\t");
        _builder.append("Guard: StateVar(oRunTime) >= (Sett(time_resolution);");
        _builder.newLine();
      } else {
        _builder.append("\t\t\t\t");
        _builder.append("Guard: StateVar(oRunTime) >= (");
        _builder.append(maxTime, "\t\t\t\t");
        _builder.append("+Sett(time_resolution);");
        _builder.newLineIfNotEmpty();
      }
    }
    _builder.append("\t\t\t\t");
    _builder.newLine();
    _builder.append("\t\t");
    _builder.append("Transition: (");
    String _name_109 = scenario.getWhen().eClass().getName();
    _builder.append(_name_109, "\t\t");
    _builder.append("->Final)\t\t");
    _builder.newLineIfNotEmpty();
    {
      boolean _isEmpty_2 = scenario.getAnd().isEmpty();
      if (_isEmpty_2) {
        _builder.append("\t\t\t\t");
        _builder.append("Guard: []");
        _builder.newLine();
      }
    }
    {
      EList<And> _and_1 = scenario.getAnd();
      for(final And and_1 : _and_1) {
        {
          EList<Solution> _solution = and_1.getSolution();
          for(final Solution sol : _solution) {
            _builder.append("\t\t\t\t");
            {
              boolean _equals_32 = sol.eClass().getName().equals("isAtSingle");
              if (_equals_32) {
                isAtSingle ias_1 = ((isAtSingle) sol);
                _builder.newLineIfNotEmpty();
                _builder.append("\t\t\t\t");
                _builder.append("Guard: Arm.Servos.");
                String _name_110 = sol.eClass().getName();
                _builder.append(_name_110, "\t\t\t\t");
                _builder.append("(");
                {
                  EList<Servo> _servo_28 = ias_1.getServo();
                  for(final Servo ser_5 : _servo_28) {
                    Servo value_55 = ((Servo) ser_5);
                    int _servo_29 = value_55.getServo();
                    _builder.append(_servo_29, "\t\t\t\t");
                  }
                }
                _builder.append(", ");
                {
                  EList<Angle> _angle_40 = ias_1.getAngle();
                  for(final Angle ang_17 : _angle_40) {
                    Angle value_56 = ((Angle) ang_17);
                    int _angle_41 = value_56.getAngle();
                    _builder.append(_angle_41, "\t\t\t\t");
                  }
                }
                _builder.append(", ");
                {
                  EList<Angle_res> _angle_res = ias_1.getAngle_res();
                  for(final Angle_res tmp_19 : _angle_res) {
                    Angle_res value_57 = ((Angle_res) tmp_19);
                    int _angle_res_1 = value_57.getAngle_res();
                    _builder.append(_angle_res_1, "\t\t\t\t");
                  }
                }
                _builder.append(")\t\t\t\t\t\t");
                _builder.newLineIfNotEmpty();
                _builder.append("\t\t\t\t");
              } else {
                boolean _equals_33 = sol.eClass().getName().equals("isAt");
                if (_equals_33) {
                  isAt ia_1 = ((isAt) sol);
                  _builder.newLineIfNotEmpty();
                  _builder.append("\t\t\t\t");
                  _builder.append("Guard: Arm.");
                  String _name_111 = sol.eClass().getName();
                  _builder.append(_name_111, "\t\t\t\t");
                  _builder.append("(");
                  {
                    EList<Angle> _angle1_3 = ia_1.getAngle1();
                    for(final Angle ang_18 : _angle1_3) {
                      Angle value_58 = ((Angle) ang_18);
                      int _angle_42 = value_58.getAngle();
                      _builder.append(_angle_42, "\t\t\t\t");
                    }
                  }
                  _builder.append(", ");
                  {
                    EList<Angle> _angle2_3 = ia_1.getAngle2();
                    for(final Angle ang_19 : _angle2_3) {
                      Angle value_59 = ((Angle) ang_19);
                      int _angle_43 = value_59.getAngle();
                      _builder.append(_angle_43, "\t\t\t\t");
                    }
                  }
                  _builder.append(", ");
                  {
                    EList<Angle> _angle2_4 = ia_1.getAngle2();
                    for(final Angle ang_20 : _angle2_4) {
                      Angle value_60 = ((Angle) ang_20);
                      int _angle_44 = value_60.getAngle();
                      _builder.append(_angle_44, "\t\t\t\t");
                    }
                  }
                  _builder.append(", ");
                  {
                    EList<Angle> _angle4_3 = ia_1.getAngle4();
                    for(final Angle ang_21 : _angle4_3) {
                      Angle value_61 = ((Angle) ang_21);
                      int _angle_45 = value_61.getAngle();
                      _builder.append(_angle_45, "\t\t\t\t");
                    }
                  }
                  _builder.append(", ");
                  {
                    EList<Angle> _angle5_3 = ia_1.getAngle5();
                    for(final Angle ang_22 : _angle5_3) {
                      Angle value_62 = ((Angle) ang_22);
                      int _angle_46 = value_62.getAngle();
                      _builder.append(_angle_46, "\t\t\t\t");
                    }
                  }
                  _builder.append(", ");
                  {
                    EList<Angle> _angle6_3 = ia_1.getAngle6();
                    for(final Angle ang_23 : _angle6_3) {
                      Angle value_63 = ((Angle) ang_23);
                      int _angle_47 = value_63.getAngle();
                      _builder.append(_angle_47, "\t\t\t\t");
                    }
                  }
                  _builder.append(", ");
                  {
                    EList<Angle_res> _angle_res_2 = ia_1.getAngle_res();
                    for(final Angle_res ang_24 : _angle_res_2) {
                      Angle_res value_64 = ((Angle_res) ang_24);
                      int _angle_res_3 = value_64.getAngle_res();
                      _builder.append(_angle_res_3, "\t\t\t\t");
                    }
                  }
                  _builder.append(");");
                  _builder.newLineIfNotEmpty();
                }
              }
            }
          }
        }
      }
    }
    return _builder;
  }
  
  public String className(final Resource res) {
    String name = res.getURI().lastSegment();
    return name.substring(0, name.indexOf("."));
  }
}
